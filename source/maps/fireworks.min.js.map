{"version":3,"file":"../js/fireworks.min.js","names":["debounce","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","canvasEl","document","querySelector","ctx","getContext","numberOfParticules","pointerX","pointerY","tap","colors","setCanvasSize","width","window","innerWidth","height","innerHeight","style","scale","render","anime","duration","Infinity","update","clearRect","addEventListener","e","target","id","nodeName","play","updateCoords","animateParticules","clientX","touches","getBoundingClientRect","left","clientY","top","setParticuleDirection","p","angle","random","Math","PI","value","radius","x","cos","y","sin","createParticule","color","length","endPos","draw","beginPath","arc","fillStyle","fill","createCircle","alpha","lineWidth","globalAlpha","strokeStyle","stroke","renderParticule","anim","i","animatables","circle","particules","push","timeline","add","targets","easing"],"sources":["fireworks.js"],"mappings":"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","sourcesContent":["// Copied from [Molunerfinn's Hexo Theme Melody](https://github.com/Molunerfinn/hexo-theme-melody)\n\nfunction debounce(func, wait, immediate) {\n    var timeout\n    return function () {\n      var context = this\n      var args = arguments\n      var later = function () {\n        timeout = null\n        if (!immediate) func.apply(context, args)\n      }\n      var callNow = immediate && !timeout\n      clearTimeout(timeout)\n      timeout = setTimeout(later, wait)\n      if (callNow) func.apply(context, args)\n    }\n  };\n\nvar canvasEl = document.querySelector('.fireworks')\nif (canvasEl) {\n  var ctx = canvasEl.getContext('2d')\n  var numberOfParticules = 30\n  var pointerX = 0\n  var pointerY = 0\n  // var tap = ('ontouchstart' in window || navigator.msMaxTouchPoints) ? 'touchstart' : 'mousedown'\n  // Fixed the mobile scroll\n  var tap = 'mousedown'\n  var colors = ['#FF1461', '#18FF92', '#5A87FF', '#FBF38C']\n\n  var setCanvasSize = debounce(function () {\n    canvasEl.width = window.innerWidth\n    canvasEl.height = window.innerHeight\n    canvasEl.style.width = window.innerWidth + 'px'\n    canvasEl.style.height = window.innerHeight + 'px'\n    canvasEl.getContext('2d').scale(1, 1)\n  }, 500)\n\n  var render = anime({\n    duration: Infinity,\n    update: function () {\n      ctx.clearRect(0, 0, canvasEl.width, canvasEl.height)\n    }\n  })\n\n  document.addEventListener(tap, function (e) {\n    if (e.target.id !== 'sidebar' && e.target.id !== 'toggle-sidebar' && e.target.nodeName !== 'A' && e.target.nodeName !== 'IMG') {\n      render.play()\n      updateCoords(e)\n      animateParticules(pointerX, pointerY)\n    }\n  }, false)\n\n  setCanvasSize()\n  window.addEventListener('resize', setCanvasSize, false)\n}\n\nfunction updateCoords (e) {\n  pointerX = (e.clientX || e.touches[0].clientX) - canvasEl.getBoundingClientRect().left\n  pointerY = e.clientY || e.touches[0].clientY - canvasEl.getBoundingClientRect().top\n}\n\nfunction setParticuleDirection (p) {\n  var angle = anime.random(0, 360) * Math.PI / 180\n  var value = anime.random(50, 180)\n  var radius = [-1, 1][anime.random(0, 1)] * value\n  return {\n    x: p.x + radius * Math.cos(angle),\n    y: p.y + radius * Math.sin(angle)\n  }\n}\n\nfunction createParticule (x, y) {\n  var p = {}\n  p.x = x\n  p.y = y\n  p.color = colors[anime.random(0, colors.length - 1)]\n  p.radius = anime.random(16, 32)\n  p.endPos = setParticuleDirection(p)\n  p.draw = function () {\n    ctx.beginPath()\n    ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI, true)\n    ctx.fillStyle = p.color\n    ctx.fill()\n  }\n  return p\n}\n\nfunction createCircle (x, y) {\n  var p = {}\n  p.x = x\n  p.y = y\n  p.color = '#F00'\n  p.radius = 0.1\n  p.alpha = 0.5\n  p.lineWidth = 6\n  p.draw = function () {\n    ctx.globalAlpha = p.alpha\n    ctx.beginPath()\n    ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI, true)\n    ctx.lineWidth = p.lineWidth\n    ctx.strokeStyle = p.color\n    ctx.stroke()\n    ctx.globalAlpha = 1\n  }\n  return p\n}\n\nfunction renderParticule (anim) {\n  for (var i = 0; i < anim.animatables.length; i++) {\n    anim.animatables[i].target.draw()\n  }\n}\n\nfunction animateParticules (x, y) {\n  var circle = createCircle(x, y)\n  var particules = []\n  for (var i = 0; i < numberOfParticules; i++) {\n    particules.push(createParticule(x, y))\n  }\n  anime.timeline().add({\n    targets: particules,\n    x: function (p) {\n      return p.endPos.x\n    },\n    y: function (p) {\n      return p.endPos.y\n    },\n    radius: 0.1,\n    duration: anime.random(1200, 1800),\n    easing: 'easeOutExpo',\n    update: renderParticule\n  })\n    .add({\n      targets: circle,\n      radius: anime.random(80, 160),\n      lineWidth: 0,\n      alpha: {\n        value: 0,\n        easing: 'linear',\n        duration: anime.random(600, 800)\n      },\n      duration: anime.random(1200, 1800),\n      easing: 'easeOutExpo',\n      update: renderParticule,\n    }, 0)\n} "]}